<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.lcy.dao.OrderDao">
    <insert id="addShoppingCart" parameterType="Order">
        insert into bookstore.order (businessId, userId, bookName, price, state) values (#{businessId}, #{userId}, #{bookName}, #{price}, '待购买')
    </insert>

    <select id="queryOrder" resultType="Order">
        select bookstore.order.id,
        business.name as "businessName",
        bookstore.order.bookName,
        bookstore.order.price
        from bookstore.order,business
        where bookstore.order.userId = #{userId}
        and bookstore.order.businessId = business.id
        and bookstore.order.state = #{state}
    </select>
</mapper>
